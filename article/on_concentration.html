<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta name="generator" content="Madoko, version 1.1.4" />
  <meta name="viewport" content="initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="twitter:site" content="ayu_mushi" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:title" content="集中力について" />
  <meta property="og:type" content="article" />
  <meta property="og:site_name" content="ayu-mushi's website" />
  <meta property="og:description" content="集中のためにXMonadなどをいじる" />
  <meta name="keywords" content="XMonad, 集中力" />
  <meta name="description" content="集中のためにXMonadなどをいじる" />
  <title>集中力について</title>
  <link rel="stylesheet" type="text/css" href="madoko.css"  class="link">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"  class="link">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"  class="link">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.2.0//bootstrap.min.css"  class="link">
  <link rel="stylesheet" type="text/css" href="../mytheme/main.css"  class="link">
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
      <style>
        body.madoko, body.madoko.preview[data-view=full] { 
          padding: 0pt;
          margin: 0pt;
          max-width: 100%;
        }
      </style>
  <head prefix="og: http://ogp.me/ns#  article: http://ogp.me/ns/article#">
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){
            i['GoogleAnalyticsObject']=r;
            i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-34234538-2', 'auto');
        ga('send', 'pageview');
        [INCLUDE=../mytheme/disqus.js]
  </script>
  </head>
<body class="madoko">

<div class="body madoko" style="line-adjust:0"><nav id="menu">
  <ul>
    <li><a href="/">About</a></li>
    <li><a href="/article">Article</a></li>
    <li><a href="/games.html">Game</a></li>
  </ul>
</nav>



<main>

<div class="header" data-line="6;src/article/../mytheme/myprelude.mdk:97" style="padding-bottom:1em">


<p class="p noindent" data-line="6;src/article/../mytheme/myprelude.mdk:101"><span data-line="6;src/article/../mytheme/myprelude.mdk:101"></span><span class="site-name">ayu-mushi&#39;s website</span><span data-line="6;src/article/../mytheme/myprelude.mdk:101"></span>
</p>
<p class="p indent" data-line="6;src/article/../mytheme/myprelude.mdk:103"><span data-line="6;src/article/../mytheme/myprelude.mdk:103"></span><span id="post-title">集中力について</span><span data-line="6;src/article/../mytheme/myprelude.mdk:103"></span>
</p>
<div id="date" data-line="6;src/article/../mytheme/myprelude.mdk:115">
<dl class="dl compact" data-line="6;src/article/../mytheme/myprelude.mdk:116">
<dt class="dt noindent dl-li compact-li" style="text-indent:0em;font-weight:bold">Published</dt>
<dd class="dd" data-line="6;src/article/../mytheme/myprelude.mdk:116" style="margin-left:1.5em"><span data-line="6;src/article/../mytheme/myprelude.mdk:116"></span><date id="pubdate" pubdate="pubdate">2018-05-20</date><span data-line="6;src/article/../mytheme/myprelude.mdk:116"></span>
</dd>
<dt class="dt noindent dl-li compact-li" style="text-indent:0em;font-weight:bold">Last Modified</dt>
<dd class="dd" data-line="6;src/article/../mytheme/myprelude.mdk:118" style="margin-left:1.5em"><span data-line="6;src/article/../mytheme/myprelude.mdk:118"></span><date id="update">2018-06-08</date></dd></dl></div>
<div id="source" data-line="6;src/article/../mytheme/myprelude.mdk:126">
<dl class="dl compact" data-line="6;src/article/../mytheme/myprelude.mdk:127">
<dt class="dt noindent dl-li compact-li" style="text-indent:0em;font-weight:bold">Source of This Page(GitHub)</dt>
<dd class="dd" data-line="6;src/article/../mytheme/myprelude.mdk:127" style="margin-left:1.5em"><span data-line="6;src/article/../mytheme/myprelude.mdk:127"></span>https://github.com/ayu-mushi/ayu-mushi.github.io/blob/develop/src/article/on_concentration.mdk</dd></dl></div></div><span data-line="6;src/article/../mytheme/myprelude.mdk:133"></span>
<nav class="toc toc-contents"><h2 id="sec-contents" class="clearnum h1 heading-contents" data-heading-depth="1" style="display:block">Contents</h2>
<div class="tocblock tocblock1">
<div class="tocitem tocitem1" data-toc-target-elem="h1" data-toc-target="sec-xmonad" data-toc-depth="1" data-toc-line="[1]{.heading-label}.&#8194;XMonad\u3067\u306E\u5BFE\u7B56" style="toctarget:sec-xmonad"><a href="#sec-xmonad" class="localref"><span class="heading-label">1</span>.&#8194;XMonadでの対策</a></div>
<div class="tocitem tocitem1" data-toc-target-elem="h1" data-toc-target="section" data-toc-depth="1" data-toc-line="[2]{.heading-label}.&#8194;\u305D\u306E\u4ED6" style="toctarget:section"><a href="#section" class="localref"><span class="heading-label">2</span>.&#8194;その他</a></div></div></nav>
<div class="mathdefs input-mathdefs" data-line="6;src/article/../mytheme/myprelude.mdk:135"></div><h2 id="sec-xmonad" class="h1" data-line="9" data-heading-depth="1" style="display:block"><span data-line="9"></span><span class="heading-before"><span class="heading-label">1</span>.&#8194;</span><span data-line="9"></span>XMonadでの対策</h2>
<p class="p noindent" data-line="10"><span data-line="10"></span>XMonadでワークスペースをカチャカチャ無意味に移動して集中できない問題への対策として、<span data-line="10"></span><code class="code code1">mod-s</code><span data-line="10"></span>で一定時間ワークスペース間の移動を不可能にすることをした。
</p>
<p class="p indent" data-line="12"><span data-line="12"></span>方法は、愚直に集中中かどうかを変数を持ち回って、<span data-line="12"></span><code class="code code1">mod-s</code><span data-line="12"></span>で変数に集中中を表す値を入れ、1分したら集中中でなくしている<span data-line="12"></span><sup id="back-fn-better" ><a href="#fn-better" title="1.もっといいやり方があったら教えてほしい
&#8617;" class="footnote-ref localref" ><span class="footnote-label">1</span></a></sup><span data-line="12"></span>。
そして、もとの<span data-line="13"></span><code class="code code1">windows</code><span data-line="13"></span>を改変した<span data-line="13"></span><code class="code code1">myWindows</code><span data-line="13"></span>は、集中中の場合に作動しないようにしている。
ワークスペース間の移動について、<span data-line="14"></span><code class="code code1">windows</code><span data-line="14"></span>を<span data-line="14"></span><code class="code code1">myWindows</code><span data-line="14"></span>と差し替えている。
</p>
<pre class="para-block pre-fenced pre-fenced3 language-haskell lang-haskell haskell colorized" data-line="18" data-line-first="19" style="display:block"><code data-line="19">myWindows <span style="color:teal">::</span> <span style="color:teal">MVar</span> <span style="color:teal">Bool</span> <span style="color:teal">-&gt;</span> <span style="color:teal">(</span><span style="color:teal">WindowSet</span> <span style="color:teal">-&gt;</span> <span style="color:teal">WindowSet</span><span style="color:teal">)</span> <span style="color:teal">-&gt;</span> <span style="color:teal">X</span> <span style="color:teal">(</span><span style="color:teal">)</span>
myWindows v f <span style="color:blue">=</span> <span style="color:blue">do</span>
  isInConc &lt;- io $ readMVar v
  when (not isInConc) $ windows f

myKeys isInConc conf@(<span style="color:purple">XConfig</span> {<span style="color:navy">XMonad.</span>modMask <span style="color:blue">=</span> modm}) <span style="color:blue">=</span> <span style="color:navy">M.</span>fromList $ <span style="color:blue">let</span> windows2 <span style="color:blue">=</span> myWindows isInConc <span style="color:blue">in</span>
[
...
, ((modm, xK_s), io $ <span style="color:blue">do</span>
        i &lt;- readMVar isInConc
        when (not i) $ <span style="color:blue">do</span>
          modifyMVar_ isInConc $ <span style="color:blue">\</span>x <span style="color:blue">-&gt;</span> return <span style="color:purple">True</span>
          forkIO $ <span style="color:blue">do</span> threadDelay (<span class="constant" style="color:purple">60</span> * <span class="constant" style="color:purple">10</span>^<span class="constant" style="color:purple">6</span>)
                      modifyMVar_ isInConc $ <span style="color:blue">\</span>x <span style="color:blue">-&gt;</span> return <span style="color:purple">False</span>
          return ()
      )
...
]
    ++

    <span style="color:darkgreen">--</span>
    <span style="color:darkgreen">-- mod-[1..9], Switch to workspace N</span>
    <span style="color:darkgreen">-- mod-shift-[1..9], Move client to workspace N</span>
    <span style="color:darkgreen">--</span>
    [((m .|. modm, k), windows2 $ f i)
        <span style="color:blue">|</span> (i, k) &lt;- zip (<span style="color:navy">XMonad.</span>workspaces conf) [xK_1 .. xK_9]
        , (f, m) &lt;- [(<span style="color:navy">W.</span>greedyView, <span class="constant" style="color:purple">0</span>), (<span style="color:navy">W.</span>shift, shiftMask)]]
    ++

    <span style="color:darkgreen">--</span>
    <span style="color:darkgreen">-- mod-{w,e,r}, Switch to physical/Xinerama screens 1, 2, or 3</span>
    <span style="color:darkgreen">-- mod-shift-{w,e,r}, Move client to screen 1, 2, or 3</span>
    <span style="color:darkgreen">--</span>
    [((m .|. modm, key), screenWorkspace sc &gt;&gt;= flip whenJust (windows2 . f))
        <span style="color:blue">|</span> (key, sc) &lt;- zip [xK_w, xK_e, xK_r] [<span class="constant" style="color:purple">0</span>..]
        , (f, m) &lt;- [(<span style="color:navy">W.</span>view, <span class="constant" style="color:purple">0</span>), (<span style="color:navy">W.</span>shift, shiftMask)]]



defaults isInConc mLH <span style="color:blue">=</span> gnomeConfig {
  ...
  keys               <span style="color:blue">=</span> myKeys isInConc,
  ...
}

main <span style="color:blue">=</span> <span style="color:blue">do</span>
  myStatusBar &lt;- spawnPipe <span style="color:maroon">&quot;</span><span style="color:maroon">xmobar</span><span style="color:maroon">&quot;</span>
  isInConc &lt;- newMVar <span style="color:purple">False</span>
  xmonad $ defaults isInConc $ dynamicLogWithPP $ xmobarPP { ppOutput <span style="color:blue">=</span> hPutStrLn myStatusBar}
</code></pre><h2 id="section" class="h1" data-line="72" data-heading-depth="1" style="display:block"><span data-line="72"></span><span class="heading-before"><span class="heading-label">2</span>.&#8194;</span><span data-line="72"></span>その他</h2>
<p class="p noindent" data-line="73"><span data-line="73"></span>脳内イベントループを減らすこと
</p>
<p class="p indent" data-line="75"><span data-line="75"></span></main></p><span data-line=""></span>
<div class="footnotes madoko">
<hr >

<div id="fn-better" class="footnote" data-line="16" style="line-adjust:0">
<p class="p noindent" data-line="16"><span data-line="16"></span><span class="footnote-before"><sup><span class="footnote-label">1</span>.</sup></span><span data-line="16"></span>もっといいやり方があったら教えてほしい
<span data-line="17"></span><span data-line="17"></span><a href="#back-fn-better" class="footnote-backref localref">&#8617;</a></p></div></div></div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="../elastic-text/js/elastictext.js"> </script> <script id="dsq-count-scr" src="http//ayu-mushis-site.disqus.com/count.js" async></script>
</html>
